# This is a weird way of telling Travis to use the fast container-based test
# runner instead of the slow VM-based runner.
sudo: false

jobs:
  include:

    - stage: build
    - language: go
      go:
        1.11.x
      script:
        - go test -v
        - go build

    - stage: test
    - language: node_js
      node_js:
        - 10
      cache:
        npm: true # this cashes ~/.npm folder on Travis
        directories:
        # we also need to cache folder with Cypress binary
          - ~/.cache
      install:
        - npm ci
      script:
        - npm test